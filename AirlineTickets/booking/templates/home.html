<!-- booking/templates/booking/home.html -->
{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2>Available Flights</h2>

    <!-- Search Flights Form -->
    <form method="GET" action="{% url 'booking:booking_home' %}" class="mb-4">
  <input
    type="text"
    name="q"
    placeholder="Search by departure or arrival city"
    value="{{ request.GET.q|default_if_none:'' }}"
    class="form-control"
  />
  <button type="submit" class="btn btn-primary mt-2">Search Flights</button>
</form>

    {% if flights %}
      <ul class="list-group">
        {% for flight in flights %}
          <li class="list-group-item">
            <strong>{{ flight.name }}</strong> ({{ flight.flight_number }})<br>
            {{ flight.departure_city }} â†’ {{ flight.arrival_city }} |
            Price: ${{ flight.price }} |
            <a href="{% url 'booking:book_flight' flight.id %}" class="btn btn-primary btn-sm">Book</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No flights available at the moment.</p>
    {% endif %}
  </div>
{% endblock %}
