<!-- booking/templates/booking/booking_form.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Book a Flight</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
    <h1>Book a Flight</h1>

    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="mb-3">
            {{ form.booking_id.label_tag }}
            {{ form.booking_id }}
        </div>

        <div class="mb-3">
            {{ form.passenger_name.label_tag }}
            {{ form.passenger_name }}
        </div>

        <div class="mb-3">
            {{ form.aadhar_number.label_tag }}
            {{ form.aadhar_number }}
        </div>

        <div class="mb-3">
            {{ form.contact_number.label_tag }}
            {{ form.contact_number }}
        </div>

        <div class="mb-3">
            {{ form.email.label_tag }}
            {{ form.email }}
        </div>

        <div class="mb-3">
            {{ form.trip_type.label_tag }}
            {{ form.trip_type }}
        </div>

        <div class="mb-3">
            {{ form.category.label_tag }}
            {{ form.category }}
        </div>

        <div class="mb-3">
            {{ form.flight.label_tag }}
            {{ form.flight }}
        </div>

        <div class="mb-3">
            <label>Departure:</label>
            <input type="text" class="form-control" id="departure" readonly>
        </div>

        <div class="mb-3">
            <label>Arrival:</label>
            <input type="text" class="form-control" id="arrival" readonly>
        </div>

        <div class="mb-3">
            {{ form.num_seats.label_tag }}
            {{ form.num_seats }}
        </div>

        <button type="submit" class="btn btn-primary">Book</button>
    </form>

    <script>
        const flightSelect = document.getElementById("id_flight");
        const departureInput = document.getElementById("departure");
        const arrivalInput = document.getElementById("arrival");

        flightSelect.addEventListener("change", function () {
            const selectedOption = this.options[this.selectedIndex];
            const departure = selectedOption.getAttribute("data-departure");
            const arrival = selectedOption.getAttribute("data-arrival");

            departureInput.value = departure || "";
            arrivalInput.value = arrival || "";
        });
    </script>
</body>
</html>
